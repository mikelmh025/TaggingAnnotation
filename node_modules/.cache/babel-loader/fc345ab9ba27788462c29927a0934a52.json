{"ast":null,"code":"import _slicedToArray from\"/Users/zeyucheng/Desktop/taggingAnnotation/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./mainMenu.styles.css\";import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainMenu=function MainMenu(props){var category=useSelector(function(state){return state.category.data;});var results=useSelector(function(state){return state.results;});var _useState=useState(category),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState(props.selectCategory),_useState4=_slicedToArray(_useState3,2),select=_useState4[0],setSelect=_useState4[1];var _useState5=useState(props.groupIndex),_useState6=_slicedToArray(_useState5,2),selectIndex=_useState6[0],setSelectIndex=_useState6[1];var _useState7=useState(props.optionIndex),_useState8=_slicedToArray(_useState7,2),selectItemIndex=_useState8[0],setSelectItemIndex=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),mainImg=_useState10[0],setMainImg=_useState10[1];var renderList=Object.keys(list).map(function(item,index){var renderItems=list[item].map(function(selection,itemIndex){return/*#__PURE__*/_jsx(\"button\",{className:\"selectionButton\",onClick:function onClick(){setSelect({groupName:item,selection:selection.name});props.onSelect({groupName:item,selection:selection.name},index,itemIndex);setSelectIndex(index);setSelectItemIndex(itemIndex);},style:{background:selection.check&&\"#78A55A\",color:selection.check&&'#fff',borderStyle:selectIndex===index&&selectItemIndex===itemIndex&&'solid'},children:selection.name},itemIndex);});return/*#__PURE__*/_jsxs(\"div\",{className:\"groupContainer\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"groupTitle\",children:[item,\": \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"selectorContainer\",children:renderItems})]},index);});var checkAllCategory=function checkAllCategory(){var allChecked=true;Object.keys(list).map(function(item){return list[item].map(function(element){if(!element.check){allChecked=false;}return allChecked;});});return allChecked;};useEffect(function(){setList(category);},[category]);useEffect(function(){setSelectIndex(props.groupIndex);setSelectItemIndex(props.optionIndex);},[props.groupIndex,props.optionIndex]);window.addEventListener('message',function(e){if(typeof e.data==='string'){setMainImg(e.data);}});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[mainImg?/*#__PURE__*/_jsx(\"img\",{src:mainImg,className:\"image\",alt:\"main to annotation\"}):/*#__PURE__*/_jsx(\"div\",{className:\"image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ListContainer\",children:renderList}),checkAllCategory()?/*#__PURE__*/_jsx(\"button\",{className:\"submitButton\",onClick:function onClick(){var resultsJson=JSON.stringify(results.results);window.parent.postMessage(resultsJson,'*');},children:\"Submit\"}):/*#__PURE__*/_jsx(\"button\",{className:\"submitButton\",disabled:true,children:\"Submit\"})]});};export default MainMenu;","map":{"version":3,"names":["React","useEffect","useState","useSelector","MainMenu","props","category","state","data","results","list","setList","selectCategory","select","setSelect","groupIndex","selectIndex","setSelectIndex","optionIndex","selectItemIndex","setSelectItemIndex","mainImg","setMainImg","renderList","Object","keys","map","item","index","renderItems","selection","itemIndex","groupName","name","onSelect","background","check","color","borderStyle","checkAllCategory","allChecked","element","window","addEventListener","e","resultsJson","JSON","stringify","parent","postMessage"],"sources":["/Users/zeyucheng/Desktop/taggingAnnotation/src/components/MenuSection/MainMenu.component.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./mainMenu.styles.css\";\nimport { useSelector } from 'react-redux';\n\nconst MainMenu = (props) => {\n    const category = useSelector((state) => state.category.data);\n    const results = useSelector((state) => state.results);\n    const [list, setList] = useState(category);\n    const [select, setSelect] = useState(props.selectCategory);\n    const [selectIndex, setSelectIndex] = useState(props.groupIndex);\n    const [selectItemIndex, setSelectItemIndex] = useState(props.optionIndex);\n    const [mainImg, setMainImg] = useState('');\n\n    const renderList = Object.keys(list).map((item, index) => {\n        const renderItems = list[item].map((selection, itemIndex) => {\n            return (\n                <button\n                    className='selectionButton'\n                    key={itemIndex}\n                    onClick={() => {\n                        setSelect({ groupName: item, selection: selection.name });\n                        props.onSelect({ groupName: item, selection: selection.name }, index, itemIndex);\n                        setSelectIndex(index);\n                        setSelectItemIndex(itemIndex);\n                    }}\n                    style={{\n                        background: selection.check && \"#78A55A\",\n                        color: selection.check && '#fff',\n                        borderStyle: selectIndex === index && selectItemIndex === itemIndex && 'solid',\n                    }}\n                >\n                    {selection.name}\n                </button>\n            );\n        });\n        return (\n            <div className=\"groupContainer\" key={index}>\n                <h2 className=\"groupTitle\">{item}: </h2>\n                <div className=\"selectorContainer\">\n                    {renderItems}\n                </div>\n            </div>\n        )\n    });\n\n    const checkAllCategory = () => {\n        let allChecked = true;\n        Object.keys(list).map((item) => {\n            return list[item].map((element) => {\n                if (!element.check) {\n                    allChecked = false;\n                }\n                return allChecked;\n            });\n        })\n        return allChecked;\n    }\n\n    useEffect(() => {\n        setList(category);\n    }, [category])\n\n    useEffect(() => {\n        setSelectIndex(props.groupIndex);\n        setSelectItemIndex(props.optionIndex);\n    }, [props.groupIndex, props.optionIndex]);\n\n    window.addEventListener('message', function (e) {\n        if (typeof e.data === 'string') {\n            setMainImg(e.data);\n        }\n    })\n\n    return (\n        <div className=\"container\">\n            {mainImg ? \n                <img src={mainImg} className=\"image\" alt=\"main to annotation\" />\n                :\n                <div className=\"image\"></div>\n            }\n            <div className=\"ListContainer\">\n                {renderList}\n            </div>\n            {checkAllCategory() ?\n                <button className=\"submitButton\"\n                    onClick={() => {\n                        const resultsJson = JSON.stringify(results.results)\n                        window.parent.postMessage(resultsJson, '*')\n                    }}>Submit</button> :\n                <button className=\"submitButton\" disabled>Submit</button>\n            }\n\n        </div>\n    );\n}\n\nexport default MainMenu;"],"mappings":"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"},"metadata":{},"sourceType":"module"}